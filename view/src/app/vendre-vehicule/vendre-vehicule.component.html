<div class="container">
    <h2 class="text-center mb-4">Vendre un Véhicule</h2>

    <form (ngSubmit)="addVehicle()" #vehicleForm="ngForm">
        <div class="form-group mb-3">
            <label for="price">Prix (en DT) <span class="text-danger">*</span></label>
            <input 
                type="number" 
                id="price" 
                class="form-control" 
                [(ngModel)]="vehicle.price" 
                name="price" 
                required 
                placeholder="Ex: 30000"
                #price="ngModel">
        </div>

        <div class="form-group mb-3">
            <label for="image">Image du véhicule (URL) <span class="text-danger">*</span></label>
            <input 
                type="text" 
                id="image" 
                class="form-control" 
                [(ngModel)]="vehicle.image_url" 
                name="image" 
                required 
                placeholder="Ex: http://example.com/voiture.jpg"
                #image="ngModel">
        </div>

        <div class="form-group mb-3">
            <label for="brand">Marque <span class="text-danger">*</span></label>
            <input 
                type="text" 
                id="brand" 
                class="form-control" 
                [(ngModel)]="vehicle.brand" 
                name="brand" 
                required 
                placeholder="Ex: Toyota, BMW, Renault"
                #brand="ngModel">
        </div>

        <div class="form-group mb-3">
            <label for="model">Modèle <span class="text-danger">*</span></label>
            <input 
                type="text" 
                id="model" 
                class="form-control" 
                [(ngModel)]="vehicle.model" 
                name="model" 
                required 
                placeholder="Ex: Corolla, X5, Clio"
                #model="ngModel">
        </div>

        <div class="form-group mb-3">
            <label for="year">Année <span class="text-danger">*</span></label>
            <input 
                type="number" 
                id="year" 
                class="form-control" 
                [(ngModel)]="vehicle.year" 
                name="year" 
                required 
                placeholder="Ex: 2022"
                #year="ngModel">
        </div>

        <div class="form-group mb-3">
            <label for="type">Type de véhicule <span class="text-danger">*</span></label>
            <select 
                id="type" 
                class="form-control" 
                [(ngModel)]="vehicle.type" 
                name="type" 
                required 
                #type="ngModel">
                <option value="" disabled>-- Sélectionnez un type --</option>
                <option value="Voiture">Voiture</option>
                <option value="Moto">Moto</option>
                <option value="Camion">Camion</option>
                <option value="Bicyclette">Bicyclette</option>
            </select>
        </div>

        <div class="form-group mb-3">
            <label for="category">Catégorie <span class="text-danger">*</span></label>
            <select 
                id="category" 
                class="form-control" 
                [(ngModel)]="vehicle.category" 
                name="category" 
                required 
                #category="ngModel">
                <option value="" disabled>-- Sélectionnez une catégorie --</option>
                <option value="SUV">SUV</option>
                <option value="Berline">Berline</option>
                <option value="Hatchback">Hatchback</option>
                <option value="Coupé">Coupé</option>
                <option value="Camionette">Camionette</option>
                <option value="Autres">Autres</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary w-100" [disabled]="!vehicleForm.valid">Ajouter Véhicule</button>

        <div *ngIf="successMessage" class="alert alert-success mt-3" role="alert">
          {{ successMessage }}
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger mt-3" role="alert">
          {{ errorMessage }}
        </div>
        <div *ngIf="errorMessage" class="alert alert-warning mt-3">
            <p><strong>Image :</strong></p>
            <img [src]="vehicle.image_url" alt="Image du véhicule" class="img-thumbnail" *ngIf="vehicle.image_url">
            <p><strong>Type :</strong> {{ vehicle.type || 'Non spécifiée' }}</p>
          </div>
    </form>
</div>
